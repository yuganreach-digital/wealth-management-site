---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
import Section from '../components/Section.astro';
import Hero from '../components/Hero.astro';
---

<BaseLayout title="Contact Us - Interior Design Consultation" description="Get in touch with our design team to discuss your interior design project and schedule a consultation.">
  <Navigation />
  
  <!-- Hero Section -->
  <Hero 
    title="Contact Espresso Design House"
    subtitle="Get In Touch"
    description="We're here to transform your space. Schedule a consultation to discuss your design vision and how we can bring it to life."
  />

  <!-- Contact Form Section -->
  <Section 
    title="Schedule Your Consultation"
    subtitle="Let's discuss your design vision and how we can transform your space"
    className="py-20 bg-slate-50"
  >
    <div class="max-w-7xl mx-auto">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
        <!-- Contact Form -->
        <div class="bg-white rounded-3xl shadow-2xl border border-slate-100 p-8 lg:p-12">
          <form class="space-y-8" id="contact-form" name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/success">
            <!-- Hidden honeypot field for spam protection -->
            <div style="display: none;">
              <label>Don't fill this out if you're human: <input name="bot-field" /></label>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div class="group">
                <label for="firstName" class="block text-sm font-serif font-semibold text-espresso-900 mb-3">First Name</label>
                <input 
                  type="text" 
                  id="firstName" 
                  name="firstName" 
                  required
                  class="w-full px-5 py-4 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-gold-500/20 focus:border-gold-500 transition-all duration-300 bg-slate-50/50 hover:bg-white font-sans"
                  placeholder="John"
                />
              </div>
              <div class="group">
                <label for="lastName" class="block text-sm font-serif font-semibold text-espresso-900 mb-3">Last Name</label>
                <input 
                  type="text" 
                  id="lastName" 
                  name="lastName" 
                  required
                  class="w-full px-5 py-4 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-gold-500/20 focus:border-gold-500 transition-all duration-300 bg-slate-50/50 hover:bg-white font-sans"
                  placeholder="Smith"
                />
              </div>
            </div>
            
            <div class="group">
              <label for="email" class="block text-sm font-serif font-semibold text-espresso-900 mb-3">Email Address</label>
              <input 
                type="email" 
                id="email" 
                name="email" 
                required
                class="w-full px-5 py-4 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-gold-500/20 focus:border-gold-500 transition-all duration-300 bg-slate-50/50 hover:bg-white font-sans"
                placeholder="john@example.com"
              />
            </div>
            
            <div class="group">
              <label for="phone" class="block text-sm font-serif font-semibold text-espresso-900 mb-3">Phone Number</label>
              <input 
                type="tel" 
                id="phone" 
                name="phone"
                class="w-full px-5 py-4 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-gold-500/20 focus:border-gold-500 transition-all duration-300 bg-slate-50/50 hover:bg-white font-sans"
                placeholder="+1 (555) 123-4567"
              />
            </div>
            
            <div class="group">
              <label for="projectType" class="block text-sm font-serif font-semibold text-espresso-900 mb-3">Project Type</label>
              <div class="relative">
                <select 
                  id="projectType" 
                  name="projectType"
                  class="w-full pl-5 pr-12 py-4 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-gold-500/20 focus:border-gold-500 transition-all duration-300 bg-slate-50/50 hover:bg-white font-sans appearance-none cursor-pointer"
                >
                  <option value="">Please select</option>
                  <option value="residential-full">Full Home Design</option>
                  <option value="residential-room">Single Room Design</option>
                  <option value="commercial-office">Office Space</option>
                  <option value="commercial-retail">Retail Space</option>
                  <option value="renovation">Renovation</option>
                  <option value="consultation">Design Consultation</option>
                </select>
                <div class="absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none">
                  <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/>
                  </svg>
                </div>
              </div>
            </div>
            
            <div class="group">
              <label class="block text-sm font-serif font-semibold text-espresso-900 mb-4">Design Services of Interest</label>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <label class="flex items-center p-3 rounded-lg border-2 border-slate-200 hover:border-gold-300 hover:bg-gold-50/50 transition-all duration-300 cursor-pointer group">
                  <input type="checkbox" name="services" value="residential-design" class="mr-3 text-gold-500 focus:ring-gold-500 rounded border-2 border-slate-300">
                  <span class="text-slate-700 font-medium group-hover:text-espresso-900">Residential Design</span>
                </label>
                <label class="flex items-center p-3 rounded-lg border-2 border-slate-200 hover:border-gold-300 hover:bg-gold-50/50 transition-all duration-300 cursor-pointer group">
                  <input type="checkbox" name="services" value="commercial-design" class="mr-3 text-gold-500 focus:ring-gold-500 rounded border-2 border-slate-300">
                  <span class="text-slate-700 font-medium group-hover:text-espresso-900">Commercial Design</span>
                </label>
                <label class="flex items-center p-3 rounded-lg border-2 border-slate-200 hover:border-gold-300 hover:bg-gold-50/50 transition-all duration-300 cursor-pointer group">
                  <input type="checkbox" name="services" value="space-planning" class="mr-3 text-gold-500 focus:ring-gold-500 rounded border-2 border-slate-300">
                  <span class="text-slate-700 font-medium group-hover:text-espresso-900">Space Planning</span>
                </label>
                <label class="flex items-center p-3 rounded-lg border-2 border-slate-200 hover:border-gold-300 hover:bg-gold-50/50 transition-all duration-300 cursor-pointer group">
                  <input type="checkbox" name="services" value="custom-furniture" class="mr-3 text-gold-500 focus:ring-gold-500 rounded border-2 border-slate-300">
                  <span class="text-slate-700 font-medium group-hover:text-espresso-900">Custom Furniture</span>
                </label>
                <label class="flex items-center p-3 rounded-lg border-2 border-slate-200 hover:border-gold-300 hover:bg-gold-50/50 transition-all duration-300 cursor-pointer group">
                  <input type="checkbox" name="services" value="color-consultation" class="mr-3 text-gold-500 focus:ring-gold-500 rounded border-2 border-slate-300">
                  <span class="text-slate-700 font-medium group-hover:text-espresso-900">Color Consultation</span>
                </label>
                <label class="flex items-center p-3 rounded-lg border-2 border-slate-200 hover:border-gold-300 hover:bg-gold-50/50 transition-all duration-300 cursor-pointer group">
                  <input type="checkbox" name="services" value="project-management" class="mr-3 text-gold-500 focus:ring-gold-500 rounded border-2 border-slate-300">
                  <span class="text-slate-700 font-medium group-hover:text-espresso-900">Project Management</span>
                </label>
                <label class="flex items-center p-3 rounded-lg border-2 border-slate-200 hover:border-gold-300 hover:bg-gold-50/50 transition-all duration-300 cursor-pointer group">
                  <input type="checkbox" name="services" value="styling-finishing" class="mr-3 text-gold-500 focus:ring-gold-500 rounded border-2 border-slate-300">
                  <span class="text-slate-700 font-medium group-hover:text-espresso-900">Styling & Finishing</span>
                </label>
                <label class="flex items-center p-3 rounded-lg border-2 border-slate-200 hover:border-gold-300 hover:bg-gold-50/50 transition-all duration-300 cursor-pointer group">
                  <input type="checkbox" name="services" value="renovation-design" class="mr-3 text-gold-500 focus:ring-gold-500 rounded border-2 border-slate-300">
                  <span class="text-slate-700 font-medium group-hover:text-espresso-900">Renovation Design</span>
                </label>
              </div>
            </div>
            
            <div class="group">
              <label for="message" class="block text-sm font-serif font-semibold text-espresso-900 mb-3">Message</label>
              <textarea 
                id="message" 
                name="message" 
                rows="5"
                class="w-full px-5 py-4 border-2 border-slate-200 rounded-xl focus:ring-4 focus:ring-gold-500/20 focus:border-gold-500 transition-all duration-300 resize-none bg-slate-50/50 hover:bg-white font-sans"
                placeholder="Tell us about your design vision, space, and how we can help transform it..."
              ></textarea>
            </div>
            
            <button 
              type="submit"
              class="group relative w-full bg-gradient-to-r from-gold-500 via-gold-400 to-gold-500 text-espresso-900 font-serif font-bold py-5 px-8 rounded-xl hover:shadow-2xl hover:shadow-gold-500/30 transition-all duration-500 ease-out transform hover:scale-105 hover:-translate-y-1 overflow-hidden"
            >
              <div class="absolute inset-0 bg-gradient-to-r from-gold-600 via-gold-500 to-gold-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-white/80 to-transparent group-hover:animate-pulse"></div>
              <span class="relative z-10 flex items-center justify-center text-lg">
                Schedule Consultation
                <svg class="ml-3 w-5 h-5 transition-all duration-300 group-hover:translate-x-2 group-hover:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                </svg>
              </span>
            </button>
          </form>
        </div>
        
        <!-- Contact Information -->
        <div class="space-y-8">
          <div class="bg-white rounded-2xl shadow-xl p-8">
            <h3 class="text-2xl font-serif font-semibold text-espresso-900 mb-6">Get In Touch</h3>
            <div class="space-y-6">
              <div class="flex items-start space-x-4">
                <div class="w-12 h-12 bg-gold-100 rounded-lg flex items-center justify-center flex-shrink-0">
                  <svg class="w-6 h-6 text-gold-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"/>
                  </svg>
                </div>
                <div>
                  <h4 class="font-semibold text-espresso-900 mb-1">Phone</h4>
                  <p class="text-slate-600">(+1) 555-0123</p>
                </div>
              </div>
              
              <div class="flex items-start space-x-4">
                <div class="w-12 h-12 bg-gold-100 rounded-lg flex items-center justify-center flex-shrink-0">
                  <svg class="w-6 h-6 text-gold-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"/>
                  </svg>
                </div>
                <div>
                  <h4 class="font-semibold text-espresso-900 mb-1">Email</h4>
                  <p class="text-slate-600">info@espressodesignhouse.com</p>
                </div>
              </div>
              
            </div>
          </div>
          
          <div class="bg-gradient-to-br from-espresso-900 to-gold-500 rounded-2xl shadow-xl p-8 text-white">
            <h3 class="text-2xl font-serif font-semibold mb-4">The Espresso Design House Difference</h3>
            <ul class="space-y-3">
              <li class="flex items-center space-x-3">
                <svg class="w-5 h-5 text-gold-300 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"/>
                </svg>
                <span>Decades of experience in interior design and space transformation</span>
              </li>
              <li class="flex items-center space-x-3">
                <svg class="w-5 h-5 text-gold-300 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"/>
                </svg>
                <span>Comprehensive design services from concept to final styling</span>
              </li>
              <li class="flex items-center space-x-3">
                <svg class="w-5 h-5 text-gold-300 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"/>
                </svg>
                <span>Premium materials and trusted vendor relationships</span>
              </li>
              <li class="flex items-center space-x-3">
                <svg class="w-5 h-5 text-gold-300 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"/>
                </svg>
                <span>Personalized service tailored to your unique style and needs</span>
              </li>
              <li class="flex items-center space-x-3">
                <svg class="w-5 h-5 text-gold-300 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"/>
                </svg>
                <span>Timeless designs that enhance your lifestyle for years to come</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </Section>

  <!-- CTA Section -->
  <Section 
    title="Ready to Begin?"
    subtitle="Take the first step towards transforming your space"
    className="py-20 bg-gradient-to-br from-espresso-900 to-espresso-950 text-white"
    titleColor="text-white"
    subtitleColor="text-gold-400"
    descriptionColor="text-slate-300"
  >
    <div class="text-center">
      <p class="text-xl text-slate-300 mb-8 max-w-2xl mx-auto">
        Our team of experienced designers is ready to help you achieve your design vision with thoughtful solutions and beautiful results.
      </p>
      <div class="flex flex-col sm:flex-row gap-6 justify-center">
        <a 
          href="#contact-form" 
          class="group relative inline-flex items-center px-10 py-5 bg-gradient-to-r from-gold-500 via-gold-400 to-gold-500 text-espresso-900 font-serif font-semibold rounded-xl hover:shadow-2xl hover:shadow-gold-500/30 transition-all duration-500 ease-out transform hover:scale-105 hover:-translate-y-1 tracking-wide overflow-hidden"
        >
          <div class="absolute inset-0 bg-gradient-to-r from-gold-600 via-gold-500 to-gold-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          <div class="absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-white/60 to-transparent group-hover:animate-pulse"></div>
          <span class="relative z-10 flex items-center">
            Schedule Consultation
            <svg class="ml-3 w-5 h-5 transition-all duration-300 group-hover:translate-x-2 group-hover:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"/>
            </svg>
          </span>
        </a>
        <a 
          href="tel:+15550123" 
          class="group relative inline-flex items-center px-10 py-5 bg-transparent border-2 border-white/30 text-white hover:text-espresso-900 font-serif font-semibold rounded-xl hover:shadow-xl hover:shadow-white/20 transition-all duration-500 ease-out transform hover:scale-105 hover:-translate-y-1 tracking-wide overflow-hidden"
        >
          <div class="absolute inset-0 bg-gradient-to-r from-white via-gold-100 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-xl"></div>
          <div class="absolute inset-0 border-2 border-gold-400 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          <span class="relative z-10 flex items-center">
            Call Now
            <svg class="ml-3 w-5 h-5 transition-all duration-300 group-hover:translate-x-2 group-hover:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"/>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </Section>

  <Footer />
</BaseLayout>

<script>
  // Smooth scroll to form
  document.addEventListener('DOMContentLoaded', function() {
    const formLinks = document.querySelectorAll('a[href="#contact-form"]');
    
    formLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const form = document.getElementById('contact-form');
        if (form) {
          form.scrollIntoView({ 
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Form submission handling for Netlify
    const contactForm = document.getElementById('contact-form') as HTMLFormElement;
    if (contactForm) {
      contactForm.addEventListener('submit', function(e) {
        // Get form data for validation
        const formData = new FormData(contactForm);
        const data = Object.fromEntries(formData);
        
        // Simple validation
        if (!data.firstName || !data.lastName || !data.email) {
          e.preventDefault();
          showMessage('Please fill in all required fields.', 'error');
          return;
        }
        
        // Email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(data.email as string)) {
          e.preventDefault();
          showMessage('Please enter a valid email address.', 'error');
          return;
        }
        
        // Show loading state
        const submitButton = contactForm.querySelector('button[type="submit"]') as HTMLButtonElement;
        if (submitButton) {
          const originalText = submitButton.innerHTML;
          submitButton.innerHTML = `
            <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-espresso-900" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            Sending...
          `;
          submitButton.disabled = true;
          
          // Reset button after a delay (form will submit normally)
          setTimeout(() => {
            submitButton.innerHTML = originalText;
            submitButton.disabled = false;
          }, 3000);
        }
      });
    }
    
    // Function to show messages
    function showMessage(message: string, type: 'success' | 'error') {
      // Remove existing messages
      const existingMessage = document.querySelector('.form-message');
      if (existingMessage) {
        existingMessage.remove();
      }
      
      // Create message element
      const messageDiv = document.createElement('div');
      messageDiv.className = `form-message p-4 rounded-xl mb-6 ${
        type === 'success' 
          ? 'bg-green-50 border-2 border-green-200 text-green-800' 
          : 'bg-red-50 border-2 border-red-200 text-red-800'
      }`;
      
      messageDiv.innerHTML = `
        <div class="flex items-center">
          <svg class="w-5 h-5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            ${type === 'success' 
              ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>'
              : '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>'
            }
          </svg>
          <span class="font-medium">${message}</span>
        </div>
      `;
      
      // Insert message before the form
      const form = document.getElementById('contact-form');
      if (form && form.parentNode) {
        form.parentNode.insertBefore(messageDiv, form);
        
        // Auto-remove success messages after 5 seconds
        if (type === 'success') {
          setTimeout(() => {
            messageDiv.remove();
          }, 5000);
        }
      }
    }
  });
</script>
